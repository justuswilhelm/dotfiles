#!/usr/bin/env fish
function check_dependencies
  if not type nvim > /dev/null ^&1
    echo "Please install nvim"
    exit 1
  end

  if uname | grep Darwin > /dev/null
    if not type brew > /dev/null ^&1
      echo "No brew installed, run"
      echo "/usr/bin/ruby -e \"\$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\""
      exit 1
    end
  end

  if not type pip3 > /dev/null ^&1
    echo "Install a global python3-pip"
    echo "brew install python3"
    exit 1
  end
end

check_dependencies
config_brew $argv
config_darwin $argv
config_git $argv
config_go $argv
config_npm $argv
config_nvim $argv
config_python $argv
config_shell $argv
config_symlinks $argv
